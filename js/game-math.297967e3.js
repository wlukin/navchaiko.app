(self["webpackChunknavchaiko"]=self["webpackChunknavchaiko"]||[]).push([[755],{465:function(t,i,e){"use strict";e.r(i),e.d(i,{default:function(){return p}});var n=e(3396);function s(t,i,e,s,r,l){const u=(0,n.up)("InputResultGame");return(0,n.wg)(),(0,n.j4)(u,{inputFlag:t.inputFlag,resultFlag:t.resultFlag,hintFlag:r.hintFlag,timerEnableFlag:r.timerEnableFlag,timerRunFlag:r.timerRunFlag,resultList:t.round.equation,inputList:t.inputList,gameId:t.gameId,modeId:t.modeId,backCategoryId:t.buildCategoryId(),onClickTileInput:l.inputAddDigit,onClickTileResult:l.inputRemoveDigit,onClickControlRefresh:l.refreshRound,onClickControlNext:l.buildRound,onClickControlCheck:l.roundCheckResult,onClickControlHint:l.showHint,onOnTimerBegin:l.onTimerBegin,onOnTimerStart:l.onTimerStart,onOnTimerFinish:l.onTimerFinish,onOnTimerEnd:l.onTimerEnd},{hint:(0,n.w5)((()=>[r.hintFlag?((0,n.wg)(),(0,n.j4)((0,n.LL)(l.hintComponent),{key:0,term1:t.round.number.term1,term2:t.round.number.term2,sign:t.round.sign},null,8,["term1","term2","sign"])):(0,n.kq)("",!0)])),_:1},8,["inputFlag","resultFlag","hintFlag","timerEnableFlag","timerRunFlag","resultList","inputList","gameId","modeId","backCategoryId","onClickTileInput","onClickTileResult","onClickControlRefresh","onClickControlNext","onClickControlCheck","onClickControlHint","onOnTimerBegin","onOnTimerStart","onOnTimerFinish","onOnTimerEnd"])}e(7658);var r=e(662),l={methods:{digitCreate(t,i=!1){return{id:t,value:t,disabled:i,class:{disabled:i}}},digitSetDisabled(t,i){return t.disabled=i,t.class.disabled=i,t},digitIsDisabled(t){return t.disabled},digitListRestrictByMax(t,i,e){t.forEach((t=>this.digitSetDisabled(t,""+i==="0"||parseInt(""+i+t.value)>parseInt(e))))}}},u={data(){return{mode:{sign:{plus:!0,minus:!0,multiply:!1,division:!1},side:{right:!0,left:!1},minSum:0,maxSum:20,minTerm:0,maxOneTerm:20,simplerOrder:null},history:{lengthMax:100,list:[]},round:{sign:null,side:null,input:null,number:{sum:null,term1:null,term2:null},equation:{}},display:{sign:{plus:"+",minus:"-",multiply:"ร",division:"รท"}},assertResult:null,resultFlag:null,inputFlag:!1,resultList:[],inputList:[]}},watch:{},methods:{historyPack(t,i){return[Math.max(t,i),this.display.sign[this.round.sign],Math.min(t,i)].join("")},historyCheck(t,i){return-1===this.history.list.indexOf(this.historyPack(t,i))},historyAdd(t,i){this.history.list.push(this.historyPack(t,i)),this.history.list.length>this.history.lengthMax&&this.historyCut(this.history.lengthMax)},historyCut(t){this.history.list.splice(0,this.history.list.length-t)},buildSign(){this.round.sign=Object.entries(this.mode.sign).filter((t=>!!t[1])).map((t=>t[0])).sort((()=>.5-Math.random()))[0]},buildSide(){this.round.side=Object.entries(this.mode.side).filter((t=>!!t[1])).map((t=>t[0])).sort((()=>.5-Math.random()))[0]},buildNumbers(){const t=["multiply","division"].includes(this.round.sign),i=1e3;let e,n,s=0;this.mode.result??={},this.mode.result.min??=1,this.mode.result.max??=100,this.mode.term1??={},this.mode.term1.min??=1,this.mode.term1.max??=this.mode.result.max,this.mode.term2??={},this.mode.term2.min??=1,this.mode.term2.max??=this.mode.result.max;while(s<=2*i)if(e=Math.floor(Math.random()*(this.mode.term1.max-this.mode.term1.min+1))+this.mode.term1.min,n=Math.floor(Math.random()*(this.mode.term2.max-this.mode.term2.min+1))+this.mode.term2.min,!((t?e*n:e+n)>this.mode.result.max)&&!((t?e*n:e+n)<this.mode.result.min)){if(s++,this.historyCheck(e,n))break;if(s==i&&this.historyCut(1),s===2*i-1){e=n=1;break}}this.historyAdd(e,n),this.mode.shuffle&&([e,n]=[e,n].sort((()=>.5-Math.random()))),this.round.number.term1=!0===this.mode.simplerOrder?Math.max(e,n):e,this.round.number.term2=!0===this.mode.simplerOrder?Math.min(e,n):n,this.round.number.result=t?e*n:e+n}}},o=e(3692),h=e(3967),a=e(9450),d={mixins:[h.Z,r.Z,l,u,o.Z],components:{InputResultGame:a["default"]},data(){return{hintFlag:!1,timerEnableFlag:!1,timerRunFlag:!1}},mounted(){this.buildMode(),this.buildRound()},computed:{hintComponent(){const t={plus:"MathExample",minus:"MathExample",multiply:"MathHintMultiply",division:"MathHintMultiply"};return(0,n.RC)((()=>e(1413)(`./${t[this.round.sign]}`)))}},watch:{resultList:{handler(t){this.round.equation[this.round.input].value=t.join(""),this.digitListRestrictByMax(this.inputList,parseInt(t.join("")),this.mode.result.max),this.inputFlag=t.length>0,this.resultFlag=null},deep:!0}},methods:{buildInputList(){this.inputList=[0,1,2,3,4,5,6,7,8,9].map((t=>this.digitCreate(t)))},buildRound(){this.refreshRound(),this.buildInputList(),this.buildSign(),this.buildSide(),this.buildNumbers(),this.buildEquation(),this.hintFlag=!1},refreshRound(){this.resultList=[],this.resultFlag=null},buildEquation(){const t=["multiply","plus"].includes(this.round.sign);this.round.input="right"===this.round.side?"right":["left1","left2"].sort((()=>.5-Math.random()))[0];const i={left1:this.tileCreate("left1",t?this.round.number.term1:this.round.number.result),sign:this.tileCreate("sign",this.display.sign[this.round.sign]),left2:this.tileCreate("left2",this.round.number.term2),equal:this.tileCreate("equal","="),right:this.tileCreate("right",t?this.round.number.result:this.round.number.term1)};this.assertResult=i[this.round.input].value,i[this.round.input].value=null,this.round.equation=i},inputAddDigit(t){this.digitIsDisabled(t)||this.resultList.push(t.value)},inputRemoveDigit(t){!0!==this.resultFlag&&this.round.input===t.id&&this.resultList.length>0&&this.resultList.pop()},roundCheckResult(){this.resultList.length>0&&(this.resultFlag=this.resultList.join("")===""+this.assertResult),this.inputFlag=!1},showHint(){this.hintFlag=!this.hintFlag},onTimerBegin(){this.timerEnableFlag=!0},onTimerStart(){this.timerRunFlag=!0,this.buildRound()},onTimerFinish(){this.timerRunFlag=!1},onTimerEnd(){this.timerEnableFlag=!1,this.buildRound()}}},m=e(89);const g=(0,m.Z)(d,[["render",s]]);var p=g},1413:function(t,i,e){var n={"./ControlsPanelBase":[7447],"./ControlsPanelBase.vue":[7447],"./ControlsPanelButton":[3197],"./ControlsPanelButton.vue":[3197],"./CurrentProfile":[7506],"./CurrentProfile.vue":[7506],"./DigitInput":[3274,274],"./DigitInput.vue":[3274,274],"./InputResultGame":[9450],"./InputResultGame.vue":[9450],"./MathExample":[3747,747],"./MathExample.vue":[3747,747],"./MathHintMultiply":[3381,381],"./MathHintMultiply.vue":[3381,381],"./StopWatch":[1158],"./StopWatch.vue":[1158],"./TileItem":[2583],"./TileItem.vue":[2583],"./TileList":[7728],"./TileList.vue":[7728],"./TitleAnimated":[7261],"./TitleAnimated.vue":[7261]};function s(t){if(!e.o(n,t))return Promise.resolve().then((function(){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}));var i=n[t],s=i[0];return Promise.all(i.slice(1).map(e.e)).then((function(){return e(s)}))}s.keys=function(){return Object.keys(n)},s.id=1413,t.exports=s}}]);
//# sourceMappingURL=game-math.297967e3.js.map